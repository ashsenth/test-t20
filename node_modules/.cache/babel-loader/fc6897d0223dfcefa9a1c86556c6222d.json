{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ashwinse\\\\Desktop\\\\test-t20\\\\src\\\\App.jsx\";\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { MsalProvider, useMsal } from \"@azure/msal-react\";\nimport { EventType, InteractionType } from \"@azure/msal-browser\";\nimport { b2cPolicies } from \"./authConfig\";\nimport { PageLayout } from \"./components/NavigationBar\";\nimport { Hello } from \"./pages/Hello\";\nimport \"./styles/App.css\";\nvar Pages = function Pages() {\n  /**\n   * useMsal is hook that returns the PublicClientApplication instance, \n   * an array of all accounts currently signed in and an inProgress value \n   * that tells you what msal is currently doing. For more, visit:\n   * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/hooks.md\n   */\n  var _useMsal = useMsal(),\n    instance = _useMsal.instance;\n  /**\n   * Using the event API, you can register an event callback that will do something when an event is emitted. \n   * When registering an event callback in a react component you will need to make sure you do 2 things.\n   * 1) The callback is registered only once\n   * 2) The callback is unregistered before the component unmounts.\n   * For more, visit: https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/events.md\n   */\n  useEffect(function () {\n    var callbackId = instance.addEventCallback(function (event) {\n      if (event.eventType === EventType.LOGIN_FAILURE) {\n        if (event.error && event.error.errorMessage.indexOf(\"AADB2C90118\") > -1) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.forgotPassword);\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance.loginPopup(b2cPolicies.authorities.forgotPassword).catch(function (e) {\n              return;\n            });\n          }\n        }\n      }\n      if (event.eventType === EventType.LOGIN_SUCCESS || event.eventType === EventType.ACQUIRE_TOKEN_SUCCESS) {\n        if (event?.payload) {\n          /**\n           * We need to reject id tokens that were not issued with the default sign-in policy.\n           * \"acr\" claim in the token tells us what policy is used (NOTE: for new policies (v2.0), use \"tfp\" instead of \"acr\").\n           * To learn more about B2C tokens, visit https://docs.microsoft.com/en-us/azure/active-directory-b2c/tokens-overview\n           */\n          if (event.payload.idTokenClaims[\"acr\"] === b2cPolicies.names.forgotPassword) {\n            window.alert(\"Password has been reset successfully. \\nPlease sign-in with your new password.\");\n            return instance.logout();\n          } else if (event.payload.idTokenClaims[\"acr\"] === b2cPolicies.names.editProfile) {\n            window.alert(\"Profile has been edited successfully. \\nPlease sign-in again.\");\n            return instance.logout();\n          }\n        }\n      }\n    });\n    return function () {\n      if (callbackId) {\n        instance.removeEventCallback(callbackId);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/hello\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Hello, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })));\n};\nexport default function App(_ref) {\n  var msalInstance = _ref.msalInstance;\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MsalProvider, {\n    instance: msalInstance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pages, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Switch","Route","MsalProvider","useMsal","EventType","InteractionType","b2cPolicies","PageLayout","Hello","Pages","instance","callbackId","addEventCallback","event","eventType","LOGIN_FAILURE","error","errorMessage","indexOf","interactionType","Redirect","loginRedirect","authorities","forgotPassword","Popup","loginPopup","catch","e","LOGIN_SUCCESS","ACQUIRE_TOKEN_SUCCESS","payload","idTokenClaims","names","window","alert","logout","editProfile","removeEventCallback","App","msalInstance"],"sources":["C:/Users/ashwinse/Desktop/test-t20/src/App.jsx"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { MsalProvider, useMsal } from \"@azure/msal-react\";\nimport { EventType, InteractionType } from \"@azure/msal-browser\";\n\nimport { b2cPolicies } from \"./authConfig\";\nimport { PageLayout } from \"./components/NavigationBar\";\nimport { Hello } from \"./pages/Hello\";\n\nimport \"./styles/App.css\";\n\nconst Pages = () => {\n\n  /**\n   * useMsal is hook that returns the PublicClientApplication instance, \n   * an array of all accounts currently signed in and an inProgress value \n   * that tells you what msal is currently doing. For more, visit:\n   * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/hooks.md\n   */\n  const { instance } = useMsal();\n\n  /**\n   * Using the event API, you can register an event callback that will do something when an event is emitted. \n   * When registering an event callback in a react component you will need to make sure you do 2 things.\n   * 1) The callback is registered only once\n   * 2) The callback is unregistered before the component unmounts.\n   * For more, visit: https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/events.md\n   */\n  useEffect(() => {\n    const callbackId = instance.addEventCallback((event) => {\n      if (event.eventType === EventType.LOGIN_FAILURE) {\n        if (event.error && event.error.errorMessage.indexOf(\"AADB2C90118\") > -1) {\n          if (event.interactionType === InteractionType.Redirect) {\n            instance.loginRedirect(b2cPolicies.authorities.forgotPassword);\n          } else if (event.interactionType === InteractionType.Popup) {\n            instance.loginPopup(b2cPolicies.authorities.forgotPassword)\n              .catch(e => {\n                return;\n              });\n          }\n        }\n      }\n\n      if (event.eventType === EventType.LOGIN_SUCCESS || event.eventType === EventType.ACQUIRE_TOKEN_SUCCESS) {\n        if (event?.payload) {\n          /**\n           * We need to reject id tokens that were not issued with the default sign-in policy.\n           * \"acr\" claim in the token tells us what policy is used (NOTE: for new policies (v2.0), use \"tfp\" instead of \"acr\").\n           * To learn more about B2C tokens, visit https://docs.microsoft.com/en-us/azure/active-directory-b2c/tokens-overview\n           */\n          if (event.payload.idTokenClaims[\"acr\"] === b2cPolicies.names.forgotPassword) {\n            window.alert(\"Password has been reset successfully. \\nPlease sign-in with your new password.\");\n            return instance.logout();\n          } else if (event.payload.idTokenClaims[\"acr\"] === b2cPolicies.names.editProfile) {\n            window.alert(\"Profile has been edited successfully. \\nPlease sign-in again.\");\n            return instance.logout();\n          }\n        }\n      }\n    });\n\n    return () => {\n      if (callbackId) {\n        instance.removeEventCallback(callbackId);\n      }\n    };\n  }, []);\n\n  return (\n    <Switch>\n      <Route path=\"/hello\">\n        <Hello />\n      </Route>\n    </Switch>\n  )\n}\n\nexport default function App({msalInstance}) {\n  return (\n    <Router>\n      <MsalProvider instance={msalInstance}>\n        <PageLayout>\n          <Pages />\n        </PageLayout>\n      </MsalProvider>\n    </Router>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}